(this["webpackJsonpclient-side"]=this["webpackJsonpclient-side"]||[]).push([[0],{112:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(8),o=a.n(c),i=(a(86),a(38)),l=a(24),s=(a(87),a(152)),u=a(153),m=a(147),p=a(35),d=a(13),f=a.n(d),h=a(25),g=a(22),E=a(155),v=a(145),b=a(148),w=a(141),k=a(4),j=a(146),y=a(149),O=a(150),x=a(151),S=a(154),C=a(70),I=a.n(C),N=a(72),T=a.n(N),W=a(71),_=a.n(W),D=function(){return r.a.createElement(w.a,null,r.a.createElement(v.a,null,r.a.createElement(q,{key:"userName"},"User name"),r.a.createElement(q,{key:"phone"},"Phone number"),r.a.createElement(q,{key:"email"},"Email"),r.a.createElement(q,null)))},q=Object(k.a)((function(e){return Object(E.a)({head:{backgroundColor:e.palette.primary.main,color:e.palette.common.white,textTransform:"capitalize"},body:{fontSize:14}})}))(j.a),P=Object(m.a)((function(e){return Object(E.a)({root:{width:"100%",alignItems:"center",marginTop:e.spacing(3)},paper:{width:"100%",minWidth:750,overflowX:"auto",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}})})),U=Object(m.a)((function(e){return{disabledInput:{color:e.palette.text.primary},input:{color:e.palette.text.primary}}})),z=function(e){var t=P(),a=U(),n=r.a.useState(),c=Object(g.a)(n,2),o=c[0],i=c[1],l=e.tasks,s=["userName","phone","email"],u=function(){var t=o||"",a=l.find((function(e){return e._id==t}));e.onSave(a),i("")};return r.a.createElement("div",{className:t.root},r.a.createElement(b.a,{className:t.paper},r.a.createElement(y.a,null,r.a.createElement(O.a,{className:t.table,"aria-labelledby":"tableTitle",size:"small"},r.a.createElement(D,null),r.a.createElement(x.a,null,l.map((function(t,n){var c,l=(c=t._id,!(o===c||""==c)),m="row-".concat(n);return r.a.createElement(v.a,{hover:!0,role:"checkbox",key:m},s.map((function(n,c){return r.a.createElement(j.a,{key:"row-".concat(c)},r.a.createElement(S.a,{onChange:function(a){return function(t,a,n){n[a]=t,e.onEdit(n)}(a.target.value,n,t)},value:t[n],disabled:l,InputProps:{disableUnderline:l,classes:{disabled:a.disabledInput}}}))})),r.a.createElement(j.a,null,l?r.a.createElement("div",null,r.a.createElement(I.a,{onClick:function(a){return n=t,void e.onDelete([n._id]);var n}}),r.a.createElement(_.a,{onClick:function(e){i(t._id)}})):r.a.createElement(T.a,{onClick:u})))})))))))},A=a(26),B=a.n(A),J=function(){var e=sessionStorage.getItem("accessToken");return e?{accessToken:e}:{}},H="".concat("http://localhost:4000","/task"),M=function(e){return B.a.post(H,{task:e},{headers:J()})},R=function(){var e=Object(h.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:B.a.delete("".concat(H,"/").concat(t),{headers:J()}).then((function(e){})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(h.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:B.a.put("".concat(H,"/").concat(t._id),{task:t},{headers:J()}).then((function(e){})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(n.useState)([]),t=Object(g.a)(e,2),a=t[0],c=t[1];Object(n.useEffect)((function(){o()}),[]);var o=function(){var e=Object(h.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i=function(){var e=Object(h.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:B.a.get("".concat(H),{headers:J()}).then((function(e){var t=e.data;c((function(e){return Object(p.a)(t)}))})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(h.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c((function(e){return Object(p.a)(e.filter((function(e){return e._id!=t})))})),e.next=3,R(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(h.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!=t._id){e.next=7;break}return e.next=3,M(t);case 3:a=e.sent.data,c((function(e){return[a].concat(Object(p.a)(e.slice(1)))})),e.next=9;break;case 7:return e.next=9,X(t);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(s.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center"},r.a.createElement(s.a,{item:!0,xs:10},r.a.createElement("div",{className:"tasks-list"},r.a.createElement(u.a,{variant:"contained",color:"primary",onClick:function(){var e={_id:"",createDate:"",email:"",phone:"",userName:""};c((function(t){return[e].concat(Object(p.a)(t))}))}},"Create task"),r.a.createElement(z,{tasks:a,onDelete:l,onSave:m,onEdit:function(e){c(Object(p.a)(a.map((function(t){return t._id===e._id?e:t}))))}}))))},F=Object(m.a)((function(e){return{root:{"& > *":{color:e.palette.secondary.main},marginTop:e.spacing(5)}}})),G=function(){var e=F(),t=Object(l.f)();return r.a.createElement(s.a,{container:!0,spacing:5,direction:"column",justify:"center",className:e.root},r.a.createElement(s.a,{item:!0,xs:12,alignItems:"center"},r.a.createElement(u.a,{variant:"contained",color:"primary",onClick:function(){sessionStorage.clear(),t.push("/login")}},"Sign out")),r.a.createElement(s.a,{item:!0,xs:12},r.a.createElement($,null)))},K=a(29),L=a(156),Q=a(157),V="".concat("http://localhost:4000","/user"),Y=Object(m.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),Z=function(){var e=Object(n.useState)({email:"",password:"",role:""}),t=Object(g.a)(e,2),a=t[0],c=t[1],o=["admin","user"],i=Object(l.f)(),m=Y();return r.a.createElement(s.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",className:"home-container"},r.a.createElement(s.a,{item:!0,xs:12},r.a.createElement("div",{className:m.form},r.a.createElement(S.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",value:a.email,onChange:function(e){return c(Object(K.a)({},a,{email:e.target.value}))}}),r.a.createElement(S.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",value:a.password,onChange:function(e){return c(Object(K.a)({},a,{password:e.target.value}))}}),r.a.createElement(S.a,{fullWidth:!0,name:"role",id:"standard-select-currency",select:!0,label:"Select role",value:o[0],onChange:function(e){return c(Object(K.a)({},a,{role:e.target.value}))},helperText:"Role"},o.map((function(e){return r.a.createElement(L.a,{key:e,value:e},e)}))),r.a.createElement(u.a,{onClick:function(){(function(e){return B.a.post(V,{user:e})})(a).then((function(e){e.data;i.push("/login")})).catch((function(e){console.log(e)}))},fullWidth:!0,variant:"contained",color:"primary",className:m.submit},"Sign Up"),r.a.createElement(s.a,{container:!0},r.a.createElement(s.a,{item:!0},r.a.createElement(Q.a,{href:"login",variant:"body2"},"Already have an account? Sign In"))))))},ee=Object(m.a)((function(e){return{root:{"& > *":{color:e.palette.secondary.main}},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),te=function(){var e=Object(n.useState)({email:"",password:"",role:""}),t=Object(g.a)(e,2),a=t[0],c=t[1],o=ee(),i=Object(l.f)();return r.a.createElement(s.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",className:"home-container"},r.a.createElement(s.a,{item:!0,xs:6,className:o.root},r.a.createElement("h1",null,"Welcome to propit!"),r.a.createElement("h4",null,"please login to start manage your tasks")),r.a.createElement(s.a,{item:!0,xs:6},r.a.createElement("div",{className:o.form},r.a.createElement(S.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",value:a.email,onChange:function(e){return c(Object(K.a)({},a,{email:e.target.value}))}}),r.a.createElement(S.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",value:a.password,onChange:function(e){return c(Object(K.a)({},a,{password:e.target.value}))}}),r.a.createElement(u.a,{onClick:function(){(function(e){return B.a.post("".concat(V,"/login"),{user:e})})(a).then((function(e){var t=e.data;sessionStorage.setItem("accessToken",t.accessToken),i.push("/tasks")})).catch((function(e){console.log(e)}))},fullWidth:!0,variant:"contained",color:"primary",className:o.submit},"Sign In"),r.a.createElement(s.a,{container:!0},r.a.createElement(s.a,{item:!0},r.a.createElement(Q.a,{href:"signup",variant:"body2"},"Don't have an account? Sign Up"))))))},ae=function(){return r.a.createElement(i.a,null,r.a.createElement(l.c,null,r.a.createElement(l.a,{path:"/signup",component:Z,exact:!0}),r.a.createElement(l.a,{path:"/login",component:te,exact:!0}),r.a.createElement(l.a,{path:"/tasks",component:G}),r.a.createElement(l.a,{exact:!0,path:"*",render:function(e){return null!=sessionStorage.getItem("accessToken")?r.a.createElement(G,null):r.a.createElement(te,null)}}),")}/>"))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ae,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},81:function(e,t,a){e.exports=a(112)},86:function(e,t,a){},87:function(e,t,a){}},[[81,1,2]]]);
//# sourceMappingURL=main.cc8b7e73.chunk.js.map